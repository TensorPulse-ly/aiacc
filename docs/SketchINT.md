1.  RDMA

    RDMA是远程内存访问技术（Remote Memory Access,
    RMA）的代表，它允许网络适配器直接访问远程节点的内存，而无需远程节点的CPU参与。RDMA通过零拷贝、内核旁路和传输卸载三大核心技术实现了高效低延迟的数据传输。

零拷贝技术解决了传统数据传输的拷贝瓶颈，传统数据传输在传统网络通信（TCP/IP）中数据经历多次内存拷贝：用户态到内核态、内核态到网卡、接收端的反向拷贝，每次拷贝都会消耗
CPU 资源增加延迟，在进行大量数据传输时，内存带宽成为瓶颈。

RDMA技术通过内存注册和直接内存访问两步实现零拷贝。

内存注册：应用程序预先将内存区域注册到RDMA网卡（RNIC）上，RNIC为注册的内存生成虚拟地址和密钥，注册过程中锁定物理内存，确保传输期间数据无法修改，保证数据一致性。

直接内存访问：发送端RNIC直接从注册的内存中读取数据，接收端RNIC直接将数据写入目标应用程序的注册内存。

内核旁路机制解决了传统内核协议处理数据包时造成的开销，包括上下文切换、中断处理、锁竞争等。

内核旁路机制通过用户态驱动和硬件协作实现，采用队列对（QP）模型维护通信端点队列对，令用户态直接操作RNIC，直接向RNIC提出工作请求，完整过程无需系统调用，操作完成后RNIC将结果写入完成队列。内核旁路机制使得RDMA能够消除上下文切换和终端延迟，避免内核协议栈处理，减少CPU占用。

传输卸载机制减轻了传统协议的CPU负担。由RNIC硬件直接处理协议逻辑，完全释放CPU，RNIC处理链路层到传输层的完整协议。

RDMA还提供众多操作原语，如Compare&Swap和Fetch&Add，这些操作原语在硬件层面保证了对远程内存的原子性访问，适用于分布式锁、计数器等多种场景。

2.  SketchINT

网络测量对流量工程、异常检测、故障排查等各种网络操作至关重要，需要在流粒度下对单个交换机进行测量。INT（In-band
Network Telemetry
带内网络遥测）解决方案因能提供细粒度的逐交换机、逐数据包信息，成为实现流粒度逐交换机测量的理想方案。INT
通过配置交换机在每个输入数据包中插入预定义的数据包级信息（即INT信息）来获取逐交换机信息。

通过结合INT和草图技术，在支持流粒度逐交换机测量的同时降低INT的控制平面开销。其核心设计是将所有INT信息先压缩为紧凑草图再收集，而非像
INT
那样直接传输。SketchINT有三种工作模式：在接收端交换机（边缘交换机）部署草图、在端主机部署草图以提高测量精度、将草图卸载到基于FPGA的SmartNIC以节省主机CPU资源，这要求草图能在P4、CPU和FPGA平台上简单部署。设计了简单且准确的TowerSketch。其数据结构仅包含若干计数器数组和哈希函数，通过为不同数组配置不同大小的计数器，高层数组计数器少但容量大，底层数组计数器多但容量小，利用网络流量的偏斜特性，多数流小、少数大流占主导，自动将大流记录在大计数器、小流记录在小计数器。
