#

要读懂 VCS 生成的覆盖率报告，需要理解报告结构、关键指标含义和颜色编码系统。以下是分步解读指南：

## 1. **报告结构解析**

| 部分名称 | 位置 | 关键内容 |
|----------|------|----------|
| **仪表盘(Dashboard)** | 主页面 | 总体覆盖率摘要、测试环境信息 |
| **层级视图(Hierarchy)** | hierarchy.html | 设计模块的层次结构关系 |
| **模块列表(Module List)** | modlist.html | 所有模块的覆盖率数据对比 |
| **模块详情** | mod0.html/mod1.html | 单个模块的详细覆盖率分析 |

## 2. **关键指标解读**

### 覆盖率类型

| 类型 | 缩写 | 理想值 | 含义 |
|------|------|--------|------|
| **行覆盖率** | LINE | >95% | 代码行执行比例 |
| **条件覆盖率** | COND | >90% | 逻辑条件组合覆盖 |
| **分支覆盖率** | BRANCH | >85% | 程序分支路径覆盖 |
| **翻转覆盖率** | TOGGLE | >80% | 信号0/1跳变覆盖 |
| **状态机覆盖率** | FSM | >90% | 状态机状态/转移覆盖 |

### 示例数据解读

```html
<td class="s7 cl rt">75.90</td>   <!-- SCORE: 综合覆盖率75.9% -->
<td class="s9 cl rt">91.18</td>   <!-- LINE: 行覆盖率91.18% (良好) -->
<td class="s8 cl rt">80.95</td>   <!-- COND: 条件覆盖率80.95% (中等) -->
<td class="s6 cl rt">69.58</td>   <!-- TOGGLE: 翻转覆盖率69.58% (不足) -->
<td class="s6 cl rt">61.90</td>   <!-- BRANCH: 分支覆盖率61.90% (严重不足) -->
```

## 3. **颜色编码系统**

VCS 使用直观的颜色标记覆盖率水平：

| 颜色 | CSS类 | 范围 | 含义 |
|------|-------|------|------|
| ![红色](https://img.shields.io/badge/红色-red) | s0-s5 | 0-59% | 严重不足 |
| ![黄色](https://img.shields.io/badge/黄色-yellow) | s6-s7 | 60-79% | 需要改进 |
| ![浅绿色](https://img.shields.io/badge/浅绿色-brightgreen) | s8 | 80-89% | 中等 |
| ![绿色](https://img.shields.io/badge/绿色-green) | s9-s10 | 90-100% |良好|

## 4. **关键区域深度分析**

### (1) 仪表盘核心信息

```html
Version: O-2018.09-SP2
Command line: urg -dir simv.vdb -format both -report coverage_report
Number of tests: 1
```

- **测试数据来源**：`simv.vdb` 数据库
- **报告格式**：HTML+文本（`-format both`）
- **测试规模**：1个测试套件

#### (2) 模块详情导航

```html
<a href="mod0.html#inst_tag_0">tb_fp16_to_fp32_multiplier</a>
```

- 点击模块名跳转到详细报告
- `#inst_tag_0` 定位到具体实例
- 详情页包含：
  - 未覆盖代码行（红色标记）

## 5. **问题定位技巧**

1. **找最低值**：优先关注红色/橙色指标（如示例中61.90%的分支覆盖率）

2. **层级下钻**：

   [仪表盘] --> [顶层模块] --> [子模块uut] --> [未覆盖分支列表]

3. **信号分析**：

   ```html
   <td>fp32_out[3]</td>
   <td class="s3 cl">No</td>      <!-- 无翻转 -->
   <td class="s3 cl">No</td>      <!-- 无1->0跳变 -->
   <td class="s9 cl">Yes</td>     <!-- 有0->1跳变 -->
   ```

## 6. **报告使用场景**

| 使用场景 | 关注重点 | 行动建议 |
|----------|----------|----------|
| **验证完成** | SCORE > 90% | 签署验证通过 |
| **回归测试** | 覆盖率下降 | 检查缺失测试 |
| **设计优化** | 未覆盖代码 | 删除冗余逻辑 |
| **验证计划** | 低覆盖率模块 | 增加定向测试 |

## 7. **典型报告缺陷分析**

在示例报告中：

1. **分支覆盖率低(61.90%)**：
   - 可能原因：错误处理分支未触发
   - 解决方案：添加文件打开失败测试用例

2. **翻转覆盖率不足(69.58%)**：
   - 典型表现：`fp16_b[7:1]`信号无翻转
   - 改进方法：增加数据多样性测试

> **黄金法则**：优先解决分支覆盖率问题，因其通常对应功能漏洞；信号翻转问题可能影响电路可靠性，需在功耗/可靠性验证阶段重点关注。
